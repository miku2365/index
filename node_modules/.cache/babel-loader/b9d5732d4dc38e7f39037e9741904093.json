{"remainingRequest":"/home/miku2365/Blog-Index/node_modules/babel-loader/lib/index.js!/home/miku2365/Blog-Index/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/miku2365/Blog-Index/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/miku2365/Blog-Index/src/components/center.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/miku2365/Blog-Index/src/components/center.vue","mtime":1666325294494},{"path":"/home/miku2365/Blog-Index/babel.config.js","mtime":1666325294494},{"path":"/home/miku2365/Blog-Index/node_modules/cache-loader/dist/cjs.js","mtime":1666325335561},{"path":"/home/miku2365/Blog-Index/node_modules/babel-loader/lib/index.js","mtime":1666325318221},{"path":"/home/miku2365/Blog-Index/node_modules/cache-loader/dist/cjs.js","mtime":1666325335561},{"path":"/home/miku2365/Blog-Index/node_modules/vue-loader/lib/index.js","mtime":1666325336172}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BScroll from \"better-scroll\";\nexport default {\n  data: function data() {\n    return {\n      sortData: [],\n      sortIndex: 0,\n      pagesData: [],\n      scroller: null\n    };\n  },\n  computed: {\n    parentCenterShow: function parentCenterShow() {\n      // 与父元素耦合\n      return this.$parent.centerShow;\n    }\n  },\n  watch: {\n    parentCenterShow: function parentCenterShow(val) {\n      if (val) {\n        this.scrollerResize();\n      }\n    }\n  },\n  methods: {\n    getPages: function getPages() {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var sortId = _this.sortData[_this.sortIndex].sortId;\n\n        if (_this.$config.SERVE) {\n          _this.axios.get(\"/getPages?sortId=\" + sortId).then(function (res) {\n            _this.pagesData = res.data.data;\n            resolve();\n          }).catch(function (err) {\n            console.log(err);\n            reject(err);\n          });\n        } else {\n          _this.pagesData = [];\n\n          for (var i in _this.$config.PAGES_DATA) {\n            var item = _this.$config.PAGES_DATA[i];\n\n            if (item.sortId == sortId) {\n              _this.pagesData.push(item);\n            }\n          }\n\n          resolve();\n        }\n      });\n    },\n    getSort: function getSort() {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        if (_this2.$config.SERVE) {\n          _this2.axios.get(\"/getSort\").then(function (res) {\n            if (res.data.code == 1) {\n              _this2.sortData = res.data.data;\n              resolve();\n            } else {\n              reject();\n            }\n          }).catch(function (err) {\n            console.log(err);\n            reject(err);\n          });\n        } else {\n          _this2.sortData = _this2.$config.SORT_DATA;\n          resolve();\n        }\n      });\n    },\n    changeSortIndex: function changeSortIndex(index) {\n      this.sortIndex = index;\n      this.getPages();\n    },\n    handleClose: function handleClose() {\n      this.$emit(\"hide\");\n    },\n    _getStyleNumber: function _getStyleNumber(el, property) {\n      return parseInt(window.getComputedStyle(el).getPropertyValue(property));\n    },\n    scrollerResize: function scrollerResize() {\n      if (!this.parentCenterShow) {\n        return;\n      }\n\n      var drawer = document.querySelector(\"#center\");\n\n      var drawerHeight = this._getStyleNumber(drawer, \"height\") - this._getStyleNumber(drawer, \"padding-top\") - this._getStyleNumber(drawer, \"padding-bottom\");\n\n      var top = document.querySelector(\"#center .top\");\n\n      var topHeight = this._getStyleNumber(top, \"height\");\n\n      var footer = document.querySelector(\"#center .footer\");\n\n      var footerHeight = this._getStyleNumber(footer, \"height\");\n\n      var scrollerWrapper = document.querySelector(\".scroll-wrapper\");\n      scrollerWrapper.style.height = \"\".concat(drawerHeight - footerHeight - topHeight, \"px\");\n\n      if (this.scroller) {\n        this.scroller.refresh();\n      } else {\n        var wrapper = document.querySelector(\".scroll-wrapper\");\n        this.scroller = new BScroll(wrapper, {\n          click: true\n        });\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    this.getSort().then(function () {\n      return _this3.getPages();\n    }).then(function () {\n      // 数据已获取完成 Better Scroll 进行初始化\n      _this3.scrollerResize();\n    });\n    window.addEventListener(\"resize\", this.scrollerResize);\n  }\n};",{"version":3,"sources":["center.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"center\">\n    <div class=\"top\">\n      <nav class=\"nav_wrap\">\n        <div\n          :class=\"[\n            'nav_item',\n            { active: sortData[sortIndex].sortId == item.sortId }\n          ]\"\n          v-for=\"(item, index) in sortData\"\n          :key=\"item.sortId\"\n          @click=\"changeSortIndex(index)\"\n        >\n          {{ item.title }}\n        </div>\n      </nav>\n      <div class=\"close\">\n        <i class=\"mdi mdi-close-box\" @click=\"handleClose\"></i>\n      </div>\n    </div>\n    <div class=\"scroll-wrapper main\">\n      <transition-group tag=\"div\" class=\"row scroll-content\" name=\"list\">\n        <div class=\"col page_item\" v-for=\"item in pagesData\" :key=\"item.pageId\">\n          <a :href=\"item.url\" class=\"page\" :title=\"item.title\">\n            <div class=\"left\">\n              <div class=\"title\">{{ item.title }}</div>\n              <div class=\"subtitle\">{{ item.subtitle }}</div>\n            </div>\n            <div class=\"right\">\n              <img\n                :src=\"\n                  item.icon == ''\n                    ? 'http://img.cdn.esunr.xyz/Aquarium.png'\n                    : item.icon\n                \"\n              />\n            </div>\n          </a>\n        </div>\n      </transition-group>\n    </div>\n    <div class=\"footer\" v-if=\"$config.FOOTER_INFO\">\n      <i class=\"mdi mdi-fountain-pen-tip\"></i> Designed By\n      <a href=\"https://github.com/EsunR/Blog-Index\">EsunR</a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BScroll from \"better-scroll\";\nexport default {\n  data() {\n    return {\n      sortData: [],\n      sortIndex: 0,\n      pagesData: [],\n      scroller: null\n    };\n  },\n  computed: {\n    parentCenterShow() {\n      // 与父元素耦合\n      return this.$parent.centerShow;\n    }\n  },\n  watch: {\n    parentCenterShow(val) {\n      if (val) {\n        this.scrollerResize();\n      }\n    }\n  },\n  methods: {\n    getPages() {\n      return new Promise((resolve, reject) => {\n        let sortId = this.sortData[this.sortIndex].sortId;\n        if (this.$config.SERVE) {\n          this.axios\n            .get(\"/getPages?sortId=\" + sortId)\n            .then(res => {\n              this.pagesData = res.data.data;\n              resolve();\n            })\n            .catch(err => {\n              console.log(err);\n              reject(err);\n            });\n        } else {\n          this.pagesData = [];\n          for (let i in this.$config.PAGES_DATA) {\n            let item = this.$config.PAGES_DATA[i];\n            if (item.sortId == sortId) {\n              this.pagesData.push(item);\n            }\n          }\n          resolve();\n        }\n      });\n    },\n    getSort() {\n      return new Promise((resolve, reject) => {\n        if (this.$config.SERVE) {\n          this.axios\n            .get(\"/getSort\")\n            .then(res => {\n              if (res.data.code == 1) {\n                this.sortData = res.data.data;\n                resolve();\n              } else {\n                reject();\n              }\n            })\n            .catch(err => {\n              console.log(err);\n              reject(err);\n            });\n        } else {\n          this.sortData = this.$config.SORT_DATA;\n          resolve();\n        }\n      });\n    },\n    changeSortIndex(index) {\n      this.sortIndex = index;\n      this.getPages();\n    },\n    handleClose() {\n      this.$emit(\"hide\");\n    },\n    _getStyleNumber(el, property) {\n      return parseInt(window.getComputedStyle(el).getPropertyValue(property));\n    },\n    scrollerResize() {\n      if (!this.parentCenterShow) {\n        return;\n      }\n      let drawer = document.querySelector(\"#center\");\n      let drawerHeight =\n        this._getStyleNumber(drawer, \"height\") -\n        this._getStyleNumber(drawer, \"padding-top\") -\n        this._getStyleNumber(drawer, \"padding-bottom\");\n\n      let top = document.querySelector(\"#center .top\");\n      let topHeight = this._getStyleNumber(top, \"height\");\n\n      let footer = document.querySelector(\"#center .footer\");\n      let footerHeight = this._getStyleNumber(footer, \"height\");\n\n      let scrollerWrapper = document.querySelector(\".scroll-wrapper\");\n      scrollerWrapper.style.height = `${drawerHeight -\n        footerHeight -\n        topHeight}px`;\n\n      if (this.scroller) {\n        this.scroller.refresh();\n      } else {\n        let wrapper = document.querySelector(\".scroll-wrapper\");\n        this.scroller = new BScroll(wrapper, {\n          click: true\n        });\n      }\n    }\n  },\n  mounted() {\n    this.getSort()\n      .then(() => {\n        return this.getPages();\n      })\n      .then(() => {\n        // 数据已获取完成 Better Scroll 进行初始化\n        this.scrollerResize();\n      });\n    window.addEventListener(\"resize\", this.scrollerResize);\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#center {\n  width: 100%;\n  height: 100%;\n  display: block;\n  box-sizing: border-box;\n  padding: 1rem;\n  background-color: rgb(241, 241, 241);\n  color: rgba(0, 0, 0, 0.8);\n  border-radius: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  .top {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 5px;\n    padding: 0 0.5rem;\n    .nav_wrap {\n      display: flex;\n      .nav_item {\n        margin-right: 15px;\n        font-size: 0.9rem;\n        color: rgba(0, 0, 0, 0.6);\n        cursor: pointer;\n        transition: all 0.3s;\n        border-bottom: 2px solid rgba(0, 0, 0, 0);\n        padding-bottom: 10px;\n        margin-bottom: 10px;\n      }\n      .active {\n        border-bottom: 2px solid rgba(0, 0, 0, 1);\n        color: rgba(0, 0, 0, 1);\n      }\n    }\n    .close {\n      font-size: 1.2rem;\n      position: relative;\n      top: -5px;\n      cursor: pointer;\n    }\n  }\n  .scroll-wrapper.main {\n    height: 300px;\n    overflow: hidden;\n    margin: 0 -0.5rem;\n    .scroll-content {\n      margin: 0;\n      .page_item {\n        height: 120px;\n        .page {\n          background-color: #fff;\n          padding: 1rem;\n          box-sizing: border-box;\n          border-radius: 0.5rem;\n          display: flex;\n          align-items: center;\n          height: 100%;\n          cursor: pointer;\n          text-decoration: none;\n          &:hover {\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n          }\n          .left {\n            width: 80%;\n            margin-right: 10px;\n            overflow: hidden;\n            .title {\n              font-size: 1rem;\n              color: rgba(0, 0, 0, 0.8);\n              font-weight: bold;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              white-space: nowrap;\n            }\n            .subtitle {\n              margin-top: 0.5rem;\n              font-size: 0.8rem;\n              line-height: 1.5;\n              color: rgba(0, 0, 0, 0.6);\n              overflow: hidden;\n              text-overflow: ellipsis;\n            }\n          }\n          .right {\n            width: 20%;\n            img {\n              width: 100%;\n              height: 100%;\n            }\n          }\n        }\n      }\n    }\n  }\n  .row {\n    margin: 0 -0.5rem;\n    display: flex;\n    flex-wrap: wrap;\n  }\n  .col {\n    padding: 0.5rem;\n    box-sizing: border-box;\n    width: 25%;\n    transition: all 1s;\n  }\n  .footer {\n    font-size: 12px;\n    text-align: right;\n    color: #303030;\n    margin-top: 10px;\n    .mdi {\n      font-size: 18px;\n      position: relative;\n      top: 3px;\n      font-weight: bold;\n    }\n    a {\n      // color: #2196F3;\n      color: #303030;\n      text-decoration: none;\n      font-weight: bold;\n    }\n  }\n}\n\n@media screen and (max-width: 900px) {\n  #center {\n    .main {\n      .page {\n        align-items: inherit;\n        padding: 0.8rem;\n        .left {\n          width: 70%;\n        }\n      }\n    }\n    .col {\n      width: 50%;\n    }\n  }\n}\n\n.list-enter,\n.list-leave-to {\n  opacity: 0;\n  transform: translateY(30px);\n}\n.list-leave-active {\n  position: absolute;\n}\n</style>\n"],"sourceRoot":"src/components"}]}